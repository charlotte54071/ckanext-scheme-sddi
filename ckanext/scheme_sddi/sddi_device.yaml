scheming_version: 2
dataset_type: device
about: device data
about_url: http://github.com/ckan/ckanext-scheming


dataset_fields:
  - field_name: title
    label: Title
    preset: title
    form_placeholder: eg. A descriptive title

  - field_name: name
    label: URL
    preset: dataset_slug
    form_placeholder: eg. my-dataset

  - field_name: notes
    label: Description
    required: True
    validators: scheming_required
    form_snippet: markdown.html
    form_placeholder: eg. Some useful notes about the data

  - field_name: tag_string
    label: Tags
    required: True
    preset: tag_string_autocomplete
    validators: required_tags tag_string_convert
    form_placeholder: eg. economy, mental health, government
    help_text:
      Tags make catalog entries easier to find. A tag is a word that is related to the entry.

  - field_name: license_id
    label: License
    required: True
    validators: scheming_required
    form_snippet: license.html
    help_text: License definitions and additional information can be found at http://opendefinition.org/ Es wird empfohlen Creative Commons Zero oder Creative Commons Namensnennung für die offene Daten zu nutzen.

  - field_name: author
    label: Author
    form_blanks: 1
    preset: composite_repeating
    subfields:
      - field_name: author_name
        label: Author
        required: True
        validators: scheming_required
        form_placeholder: Joe Bloggs

      - field_name: author_email
        form_placeholder: joe@example.com
        label: Author Email

  - field_name: maintainer
    label: Maintainer
    form_blanks: 1
    preset: composite_repeating
    subfields:
      - field_name: maintainer_name
        label: Maintainer
        form_placeholder: Joe Bloggs

      - field_name: maintainer_email
        form_placeholder: joe@example.com
        label: Maintainer Email

      - field_name: phone
        label: Phone number
        display_snippet: text.html
        form_placeholder: "+49 8161 71 0000"

      - field_name: role
        label: Role
        preset: select
        display_snippet: multiple_select.html
        choices:
          - value: data collector
            label: Datensammler
          - value: contact person
            label: Experte

  - field_name: owner_org
    label: Organization
    form_snippet: organization_alone.html
    help_text: Specifies which organization the catalog entry is assigned to.
  
  - field_name: owner_org
    label: Organization
    form_snippet: visibility.html
    help_text: Determines who can see the catalog entry.
    
  - field_name: group_help
    form_snippet: device_group_help.html
    label: ''
    display_snippet: null
  
  - field_name: group
    label: Group
    form_snippet: group.html
    display_snippet: null
    help_text: Please select "Dataset and Documents" as the main category. 

  
  # DIN SPEC 91357 Digital Twin platform field
  - field_name: lifecycle_phase
    label: Life Cycle Phase
    preset: select
    required: True
    choices:
      - value: pre-construction
        label: Pre-Construction
      - value: survey
        label: Survey
      - value: design
        label: Design
      - value: construction
        label: Construction
      - value: operation
        label: Operation
      - value: retirement
        label: Retirement
    help_text: Select the current phase of the asset or dataset within its life cycle.
  
  - field_name: hoai_phase
    label: HOAI Service Phase
    preset: select
    required: True
    choices:
      - value: LPH 1
        label: LPH 1 – Basic Evaluation
      - value: LPH 2
        label: LPH 2 – Preliminary Design
      - value: LPH 3
        label: LPH 3 – Design Planning
      - value: LPH 4
        label: LPH 4 – Approval Planning
      - value: LPH 5
        label: LPH 5 – Construction Drawings
      - value: LPH 6
        label: LPH 6 – Tender Preparation
      - value: LPH 7
        label: LPH 7 – Tender Support
      - value: LPH 8
        label: LPH 8 – Site Supervision
      - value: LPH 9
        label: LPH 9 – Operation Support
    help_text: The performance phase according to HOAI to which this resource belongs. HOAI (Honorarordnung für Architekten und Ingenieure) is the German Fee Structure for Architects and Engineers, which defines the phases of planning and execution in construction projects.
    
  - field_name: manufacturer
    label: Manufacturer
    help_text: The manufacturer of the device or sensor. This is the company or organization that produces the hardware.

  - field_name: model
    label: Model
    help_text: The device model describes the metadata and management characteristics of a device.
  
  - field_name: observable_property
    label: Observable Property
    help_text: The observable property is the physical quantity that the device or sensor measures. This can include temperature, humidity, pressure, etc.

  - field_name: unit
    label: Unit
    help_text: The unit of measurement for the observable property. This specifies how the measured values are expressed, such as degrees Celsius for temperature, or Pascals for pressure.

  - field_name: dynamic_state
    label: Dynamic State
    preset: select
    relevant: resource_type=device
    choices:
      - value: mobile
        label: Mobile
      - value: stationary
        label: Stationary
      - value: movable
        label: Movable
    help_text: The dynamic state of the device or sensor, indicating whether it is mobile (capable of moving), stationary (fixed in one place), or movable (can be moved but is not currently in motion).
      

  - field_name: sensor_type
    label: Sensor Type
    preset: select
    relevant: resource_type=device
    choices:
      - value: temperature_sensor
        label: Temperature Sensor
      - value: accelerometer
        label: Accelerometer
      - value: rtk_gps_receivers
        label: RTK GPS Receivers
      - value: strain_sensor
        label: Strain Sensor
      - value: optical_sensor
        label: Optical Sensor
      - value: humidity_sensor
        label: Humidity Sensor
      - value: light_sensor
        label: Light Sensor
      - value: tilt_sensor
        label: Tilt/Inclinometer Sensor
      - value: pressure_sensor
        label: Pressure Sensor
      - value: color_sensor
        label: Color Sensor
      - value: proximity_sensor
        label: Proximity/Presence Sensors (UWB, IR, ultrasonic, RFID)
      - value: gas_sensor
        label: Gas Sensor
      - value: other
        label: Other
    help_text: The type of sensor used in the device. This specifies the kind of measurements the device can perform, such as temperature, humidity, pressure, etc.
  
  - field_name: characteristics
    label: Characteristics
    help_text: The characteristics of the device or sensor, e.g. "BatteryLife 24h", "OperatingTemperature -40 to 85°C". Include specifications like accuracy, range, resolution, and other technical details that define its performance and capabilities.

  - field_name: capabilities
    label: Capabilities
    help_text: List the capabilities of the device or sensor, e.g.,"Sensitivity ±0.1°C", "Range -40 to 120°C", "Accuracy 0.5%", "UpdateFrequency 1Hz".

  - field_name: connecting_method
    label: Connecting Method
    preset: select
    choices:
      - value: wi-fi
        label: Wi-Fi
      - value: LoRaWAN
        label: LoRaWAN
      - value: MQTT
        label: MQTT
      - value: http_spi
        label: HTTP/REST API
      - value: other
        label: Other
    help_text: The method used to connect the device or sensor to a network or system. This can include protocols like Wi-Fi, LoRaWAN, MQTT, HTTP/REST API, etc.
  
  - field_name: update_frequency
    label: Update Frequency
    help_text: The frequency at which the device or sensor updates its measurements or data. This can be specified in seconds, minutes, or other time units (e.g., "1Hz" means one update per second).

  - field_name: language
    label: Language
    validators: ignore_missing
    preset: select
    choices:
      - value: de
        label: Deutsch
      - value: en
        label: English
    help_text: Specifies the language in which the catalog entry is written.

  - field_name: version
    label: Version
    validators: ignore_missing unicode_safe package_version_validator
    form_placeholder: "1.0"
    help_text:
      Changes to the catalog entry can be made visible using the version number. The higher the version number, the more often the catalog entry has been edited.

  - field_name: begin_collection_date
    label: Start of Validity Period
    preset: date

  - field_name: end_collection_date
    label: End of Validity Period
    preset: date
    help_text:
      This marks the validity period of the catalog entry. This period can be used to search for entries later.

  # request spatial
  - field_name: spatial
    label:
      en: Spatial extent
      de: Räumliche Ausdehnung
    form_snippet: spatial.html
    display_snippet: spatial.html
    help_text: Catalog entries can later be searched for using a spatial extension (point or polygon, not both at the same time).

  - field_name: licence_agreement
    label: Privacy Policy
    required: True
    preset: multiple_checkbox
    choices:
      - value: licence_agreement_check
        label: I hereby confirm that all data entered by me is subject to the license selected above.
    

  - field_name: custom-fields
    label: Benutzerdefiniertes Feld
    form_snippet: custom_form_fields.html

resource_fields:
  - field_name: url
    label: URL
    preset: resource_url_upload

  - field_name: name
    label: Name
    form_placeholder: eg. January 2011 Gold Prices

  - field_name: description
    label: Description
    form_snippet: markdown.html
    form_placeholder: Some useful notes about the data

  - field_name: format
    label: Format
    required: True
    preset: resource_format_autocomplete

  # restricted and composite are required
  - field_name: restricted_level
    label: Zugriffsrechte
    validators: scheming_required
    preset: select
    form_include_blank_choice: False
    required: True
    choices:
      - value: public
        label: Öffentlich
      - value: registered
        label: Registrierte Benutzer
      - value: same_organization
        label: Mitlgieder der selben Organisation
      - value: only_allowed_users
        label: Nur ausgewählte Benutzer
        help_text: Determines who has access to the resource.
    
  - field_name: allowed_users
    label: Allowed Users
    preset: tag_string_autocomplete
    data-module-source: "/api/2/util/user/autocomplete?q=?"

  
